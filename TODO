change flags to features
supported_cards should be directory in /sys and /proc
firmware upgrade, not just recognize
